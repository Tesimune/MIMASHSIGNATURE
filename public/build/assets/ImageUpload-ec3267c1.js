import{r as g,W as N,j as e}from"./app-993787b3.js";import{M as v}from"./Modal-52813257.js";import{M as w}from"./index.esm-adc28818.js";function E({thumbnails:i,store:n,image:o,setImage:d}){const[p,a]=g.useState(!1),u=()=>{a(!0)},x=()=>{a(!1)},{data:b,setData:m,errors:r,post:t}=N({upload:"",type:"img",store_id:n.id}),j=s=>{s.preventDefault(),t(route("upload"))},f=s=>{const l=o.filter((y,h)=>h!==s);d("image",l)},c=s=>{s.target.src="/mimash.png"};return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-5 xl:grid-cols-6 gap-2",children:[o.length?e.jsx(e.Fragment,{children:o.map((s,l)=>e.jsx("div",{onClick:()=>f(l),className:"h-16 w-16 cursor-pointer border-2 rounded-xl relative",children:e.jsx("img",{className:"h-full w-full rounded-xl object-cover",src:s.url,alt:s.url,onError:c})},l))}):null,e.jsx("section",{className:"h-16 w-16 cursor-pointer border-2 rounded-xl relative",onClick:u,children:e.jsx("div",{className:"flex justify-center items-center gap-3 h-full w-full absolute inset-0",children:e.jsx(w,{className:"h-5 w-5"})})})]}),e.jsxs(v,{show:p,onClose:x,children:[e.jsx("div",{className:"grid lg:grid-cols-2 gap-5 h-[450px] p-3 scroll overflow-auto",children:i.map(s=>e.jsxs("div",{className:"w-full p-2 border-2",children:[e.jsx("img",{onClick:l=>{d("image",[...o,{id:s.id,url:s.upload}]),a(!1)},src:s.upload,alt:s.upload,onError:c}),e.jsxs("div",{className:"flex justify-center items-center gap-3 p-3",children:[e.jsx("span",{className:"cursor-pointer",onClick:l=>{d("image",[...o,{id:s.id,url:s.upload}]),a(!1)},children:"Select"}),e.jsx("button",{children:"Get url"})]})]},s.id))}),e.jsx("div",{className:"p-2 border-t overflow-auto",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"grid md:flex-col gap-2 w-full",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:s=>m("upload",s.target.files),className:"w-full py-3 px-5 border-l-8 border-as rounded outline-none",multiple:!0}),r.upload&&e.jsx("p",{className:"text-red-500",children:r.upload[0]}),r.type&&e.jsx("p",{className:"text-red-500",children:r.type}),r.user_id&&e.jsx("p",{className:"text-red-500",children:r.user_id})]}),e.jsx("div",{className:"grid md:flex justify-end",children:e.jsx("span",{onClick:s=>t(route("upload")),className:"bg-as/20 text-black/90 py-3 px-5 border-l-8 border-as cursor-pointer rounded",children:"Submit"})})]})})]})]})}export{E as I};
